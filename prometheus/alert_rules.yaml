groups:
- name: infinite-ai
  rules:
  - alert: HighAPIlatency
    expr: avg_over_time(api_request_duration_seconds[5m]) > 0.5
    for: 5m
    labels:
      severity: P1
    annotations:
      summary: High API latency
  - alert: BurstFailedLogins
    expr: increase(failed_logins_total[5m]) > 50
    for: 2m
    labels:
      severity: P0
    annotations:
      summary: Burst of failed logins detected
  - alert: PostgresReplicationLag
    expr: pg_replication_lag_seconds > 30
    for: 5m
    labels:
      severity: P1
    annotations:
      summary: Postgres replication lag high
